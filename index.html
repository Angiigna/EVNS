<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Pondicherry University Green Mapping</title>
    <link rel="stylesheet" href="style.css" />
    <script src="scipt.js" defer></script>
    <!-- Default Flora Map -->
  </head>
  <body>
    <!-- Sidebar Navigation -->
    <div class="sidebar">
      <h2>Green Mapping</h2>
      <ul>
        <li><a href="#" id="flora-btn">Flora</a></li>
        <li><a href="#" id="fauna-btn">Fauna</a></li>
        <li><a href="#">About</a></li>
        <li><a href="#">Contact</a></li>
      </ul>
    </div>

    <!-- Main Content -->
    <div class="main-content">
      <!-- Header Section -->
      <header>
        <h1>Pondicherry University Green Mapping</h1>
        <p>
          Explore the geolocation of plants and track route changes over time.
        </p>
      </header>

      <!-- Google Map Container (FULL SIZE) -->
      <div id="map"></div>

      <!-- Gallery Modal -->
      <div id="gallery-modal" class="hidden">
        <span id="gallery-close">&times;</span>
        <img id="gallery-modal-img" src="" alt="Gallery Image" />
        <div id="gallery-controls">
          <button id="gallery-prev" class="gallery-btn">&#10094;</button>
          <button id="gallery-next" class="gallery-btn">&#10095;</button>
        </div>
      </div>

      <!-- Facts Section (User Scrolls Down to See) -->
      <!-- Facts Section (User Scrolls Down to See) -->
      <!-- Flora Facts Section -->
      <section id="flora-facts-section">
        <h2>Flora of Pondicherry University: A Green Haven</h2>
        <p>
          Pondicherry University boasts a rich and diverse range of plant
          species, contributing to its green and serene environment. These
          plants not only enhance the beauty of the campus but also serve
          ecological and medicinal purposes. Below are some notable trees and
          plants found within the university grounds:
        </p>

        <div class="flora-container">
          <div class="flora-item">
            <img
              src="Plants/Red frangipani, Plumeria rubra.jpg"
              alt="Red Frangipani"
            />
            <h3>Red Frangipani (*Plumeria rubra*)</h3>
            <p><b>Origin:</b> Mexico, Central America</p>
            <p><b>Location:</b> Opposite to Boy's Tea Time</p>
            <p>
              Known for its vibrant red flowers, this tropical beauty is often
              used in traditional rituals and as an ornamental plant.
            </p>
          </div>

          <div class="flora-item">
            <img src="Plants/Bamboo/Bamboo 1.jpg" alt="Bamboo" />
            <h3>Bamboo</h3>
            <p><b>Origin:</b> Asia, South America, Africa</p>
            <p><b>Coordinates:</b> 12.030723, 79.858859</p>
            <p>
              Bamboo is a fast-growing species that plays a crucial role in
              preventing soil erosion and providing habitat for various
              wildlife.
            </p>
          </div>

          <div class="flora-item">
            <img
              src="Plants/Sausage Tree, Kigelia Africana/1.jpg"
              alt="Sausage Tree"
            />
            <h3>Sausage Tree (*Kigelia africana*)</h3>
            <p><b>Origin:</b> Tropical Africa</p>
            <p><b>Coordinates:</b> 12.030723, 79.858859</p>
            <p>
              Named after its unique sausage-shaped fruits, this tree is valued
              for its medicinal properties, particularly for skin treatments.
            </p>
          </div>

          <div class="flora-item">
            <img
              src="Plants/Touch me not, Mimosa Pudica/2.jpg"
              alt="Touch-Me-Not"
            />
            <h3>Touch-Me-Not (*Mimosa pudica*)</h3>
            <p><b>Origin:</b> South and Central America</p>
            <p><b>Coordinates:</b> 12.030723, 79.858859</p>
            <p>
              A fascinating plant that reacts to touch by folding its leaves. It
              is widely used in Ayurveda for its anti-inflammatory properties.
            </p>
          </div>

          <div class="flora-item">
            <img
              src="Plants/Peltophorum pterocarpum, Copper Pod/1.jpg"
              alt="Copper Pod"
            />
            <h3>Copper Pod (*Peltophorum pterocarpum*)</h3>
            <p><b>Origin:</b> South and Southeast Asia</p>
            <p><b>Coordinates:</b> 12.030633, 79.858880</p>
            <p>
              This tree is recognized for its golden-yellow flowers and is often
              planted along roadsides as an ornamental shade tree.
            </p>
          </div>

          <div class="flora-item">
            <img src="Plants/African.jpg" alt="African Tulip Tree" />
            <h3>African Tulip Tree (*Spathodea campanulata*)</h3>
            <p><b>Origin:</b> West Africa</p>
            <p><b>Coordinates:</b> 12.031510, 79.860296</p>
            <p>
              An exotic tree with striking red-orange flowers that attract birds
              and pollinators.
            </p>
          </div>

          <div class="flora-item">
            <img
              src="Plants/Empress tree, Paulownia tomentosa.jpg"
              alt="Empress Tree"
            />
            <h3>Empress Tree (*Paulownia tomentosa*)</h3>
            <p><b>Origin:</b> China</p>
            <p><b>Coordinates:</b> 12.033173, 79.859959</p>
            <p>
              A fast-growing tree known for its large, heart-shaped leaves and
              violet flowers, widely cultivated for timber.
            </p>
          </div>

          <div class="flora-item">
            <img
              src="Plants/Neem Tree, Azadirachta Indica/unnamed.jpg"
              alt="Neem Tree"
            />
            <h3>Neem Tree (*Azadirachta indica*)</h3>
            <p><b>Origin:</b> Indian Subcontinent</p>
            <p><b>Coordinates:</b> 12.034057, 79.857298</p>
            <p>
              A sacred tree known for its antibacterial and antifungal
              properties, used in traditional medicine and organic farming.
            </p>
          </div>

          <div class="flora-item">
            <img src="Plants/MangoTree.jpg" alt="Mango Tree" />
            <h3>Mango Tree (*Mangifera indica*)</h3>
            <p><b>Origin:</b> South Asia</p>
            <p><b>Coordinates:</b> 12.016100, 79.853523</p>
            <p>
              One of India's most beloved fruit trees, known for its delicious
              mangoes and lush green foliage.
            </p>
          </div>

          <div class="flora-item">
            <img src="Plants/KapokTree.jpg" alt="Kapok Tree" />
            <h3>Kapok Tree (*Ceiba pentandra*)</h3>
            <p><b>Origin:</b> Central and South America</p>
            <p><b>Coordinates:</b> 12.017323, 79.853045</p>
            <p>
              A towering tree known for its silky fibers used in stuffing
              pillows and mattresses.
            </p>
          </div>
        </div>
      </section>
      <!-- Fauna Facts Section -->
      <section id="fauna-facts-section">
        <h2>Fauna of Pondicherry University: Dog Hotspots</h2>
        <p>
          Many dogs reside across the university campus, often forming social
          groups and territories. Here are some observed dog populations in
          different hostel areas:
        </p>

        <div class="fauna-container">
          <!-- Girls Hostel Section -->
          <div class="fauna-hostel">
            <h3>Girls' Hostel Areas</h3>
            <ul>
              <li><b>Girls Mess:</b> 8 dogs, 3 puppies</li>
              <li><b>Kannagi:</b> 5 dogs, 2 puppies</li>
              <li><b>Madam Curie:</b> 4 dogs</li>
              <li><b>Ganga:</b> 3 dogs</li>
              <li><b>Yamuna:</b> 3 dogs</li>
              <li><b>Saraswati:</b> 4 dogs</li>
              <li><b>Kaveri:</b> 6 dogs, 2 puppies</li>
            </ul>
          </div>

          <!-- Boys Hostel Section -->
          <div class="fauna-hostel">
            <h3>Boys' Hostel Areas</h3>
            <ul>
              <li><b>Kannadasan Hostel:</b> 3 dogs</li>
              <li><b>Thiruvallur Stadium:</b> 5 dogs</li>
              <li><b>MAKA Hostel:</b> 2 dogs</li>
              <li><b>Kalidas Hostel:</b> 3 dogs</li>
              <li><b>Valmiki Hostel:</b> 2 dogs</li>
              <li><b>Kamban Hostel:</b> 3 dogs</li>
              <li><b>Birsa Munda Hostel:</b> 3 dogs</li>
              <li><b>Aurobindo Hostel:</b> 4 dogs, 7 puppies</li>
              <li><b>Subramanian Bharati Hostel:</b> 1 dog</li>
              <li><b>Pavendar Bharathidasan:</b> 1 dog</li>
              <li><b>CV Raman Hostel:</b> 2 dogs</li>
              <li><b>Illango Hostel:</b> 2 dogs</li>
            </ul>
          </div>
        </div>

        <!-- Dog Behavior Facts -->
        <div class="fauna-facts">
          <h3>Common Dog Behavior Observations</h3>
          <p>
            <b>Territorial Instincts:</b> Dogs tend to establish territories
            around hostels and cafeterias, where they feel safe and can access
            food easily.
          </p>
          <p>
            <b>Routine Activities:</b> Most dogs follow a predictable
            routineâ€”roaming in groups, resting in shaded areas, and scavenging
            for food at specific times.
          </p>
          <p>
            <b>Social Groups:</b> Dogs often form packs based on familiarity and
            hierarchy. Conflicts between groups usually occur over food or
            territory.
          </p>
          <p>
            <b>Friendly vs. Cautious Behavior:</b> While some dogs are friendly
            towards students, others remain cautious, especially at night or
            when unfamiliar people approach.
          </p>
          <p>
            <b>Mother Dogs & Puppies:</b> Female dogs with puppies are highly
            protective and prefer to stay in quiet, less-disturbed areas.
          </p>
        </div>
      </section>
    </div>

    <!-- Google Maps API -->
    <script
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAEowV4krMWS_FrAm70UP4wOAaBiZ3mvkQ&callback=initMap&v=weekly&libraries=visualization"
      async
      defer
    ></script>

    <script>
      let currentScript = "scipt.js"; // Default Flora Map
      document.addEventListener("DOMContentLoaded", function () {
        document.getElementById("fauna-facts-section").classList.add("hidden");
      });

      function switchMap(newScript, initFunction) {
        console.log(`Switching to: ${newScript}`);
        console.log(`Calling function: ${initFunction}`);

        if (currentScript === newScript) return;

        let oldScript = document.querySelector(
          `script[src="${currentScript}"]`
        );
        if (oldScript) {
          console.log(`Removing old script: ${currentScript}`);
          oldScript.remove();
        }

        let scriptElement = document.createElement("script");
        scriptElement.src = newScript;
        scriptElement.defer = true;
        scriptElement.onload = () => {
          console.log(`Loaded script: ${newScript}`);

          if (typeof window[initFunction] === "function") {
            console.log(`Calling init function: ${initFunction}`);
            window[initFunction]();
          } else {
            console.error(`Error: ${initFunction} is not defined!`);
          }

          // Ensure the correct facts section is shown
          let floraFacts = document.getElementById("flora-facts-section");
          let faunaFacts = document.getElementById("fauna-facts-section");

          if (newScript === "scipt.js") {
            console.log("Showing Flora Facts, Hiding Fauna Facts");
            floraFacts.classList.remove("hidden");
            faunaFacts.classList.add("hidden");
          } else if (newScript === "fauna.js") {
            console.log("Showing Fauna Facts, Hiding Flora Facts");
            faunaFacts.classList.remove("hidden");
            floraFacts.classList.add("hidden");
            console.log("Flora Facts Classes:", floraFacts.classList.value);
            console.log("Fauna Facts Classes:", faunaFacts.classList.value);
          } else {
            console.error("Unknown script, no facts section updated.");
          }
        };

        document.body.appendChild(scriptElement);
        currentScript = newScript;
      }

      document
        .getElementById("flora-btn")
        .addEventListener("click", function () {
          switchMap("scipt.js", "initMap");
        });

      document
        .getElementById("fauna-btn")
        .addEventListener("click", function () {
          switchMap("fauna.js", "initializeFaunaMap");
        });
    </script>
  </body>
</html>
